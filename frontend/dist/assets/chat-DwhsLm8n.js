import{j as e,r as o,b as L,B as v,c as S,E as M}from"./index-DBwonJDM.js";const I="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.33339%2010.6667L16.5001%201.5M7.33339%2010.6667L10.2501%2016.5C10.2866%2016.5798%2010.3453%2016.6474%2010.4192%2016.6948C10.493%2016.7422%2010.579%2016.7674%2010.6667%2016.7674C10.7545%2016.7674%2010.8404%2016.7422%2010.9143%2016.6948C10.9881%2016.6474%2011.0468%2016.5798%2011.0834%2016.5L16.5001%201.5M7.33339%2010.6667L1.50006%207.75C1.42027%207.71344%201.35266%207.65474%201.30526%207.58088C1.25786%207.50701%201.23267%207.4211%201.23267%207.33333C1.23267%207.24557%201.25786%207.15965%201.30526%207.08579C1.35266%207.01193%201.42027%206.95323%201.50006%206.91667L16.5001%201.5'%20stroke='white'%20strokeWidth='1.66667'%20strokeLinecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",D="_background_1mtd0_1",E="_form__wrap_1mtd0_18",A="_chat__form_1mtd0_14",O="_form__submit_1mtd0_42",c={background:D,"chat__form-container":"_chat__form-container_1mtd0_14",form__wrap:E,chat__form:A,form__submit:O,"radio-group":"_radio-group_1mtd0_56","answer-list":"_answer-list_1mtd0_72"},G="_checked_1mwrp_16",B={"radio-container":"_radio-container_1mwrp_1",checked:G};function C(l){const{name:d,id:a,title:p,children:i,checked:f,onChange:m}=l;return e.jsxs("div",{className:B["radio-container"],children:[e.jsxs("label",{className:f?B.checked:"",htmlFor:a,children:[i,p]}),e.jsx("input",{type:"radio",name:d,id:a,checked:f,onChange:()=>m(a),value:a})]})}const T="/assets/doughnut-DgIgdJ0C.svg",U="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_50_70)'%3e%3cpath%20d='M8.00007%204.89178C9.40082%204.08336%2011.0477%203.8117%2012.6339%204.12742C14.22%204.44313%2015.6374%205.32469%2016.6218%206.60785C17.6062%207.89102%2018.0907%209.48829%2017.9848%2011.1021C17.879%2012.7159%2017.1901%2014.2363%2016.0465%2015.3799C14.9029%2016.5235%2013.3826%2017.2124%2011.7687%2017.3182C10.1549%2017.424%208.55764%2016.9396%207.27448%2015.9552C5.99131%2014.9707%205.10976%2013.5534%204.79404%2011.9672C4.47833%2010.3811%204.74999%208.73419%205.5584%207.33344'%20stroke='black'%20strokeWidth='1.25'%20strokeLinecap='round'/%3e%3cpath%20d='M21.3334%200.666748H21.9584C21.9584%200.500988%2021.8926%200.342017%2021.7754%200.224806C21.6582%200.107596%2021.4992%200.041748%2021.3334%200.041748V0.666748ZM20.7084%204.83341C20.7084%204.99918%2020.7743%205.15815%2020.8915%205.27536C21.0087%205.39257%2021.1677%205.45841%2021.3334%205.45841C21.4992%205.45841%2021.6582%205.39257%2021.7754%205.27536C21.8926%205.15815%2021.9584%204.99918%2021.9584%204.83341H20.7084ZM17.1668%200.041748C17.001%200.041748%2016.842%200.107596%2016.7248%200.224806C16.6076%200.342017%2016.5418%200.500988%2016.5418%200.666748C16.5418%200.832508%2016.6076%200.99148%2016.7248%201.10869C16.842%201.2259%2017.001%201.29175%2017.1668%201.29175V0.041748ZM16.3584%206.52508L21.7751%201.10841L20.8918%200.225081L15.4751%205.64175L16.3584%206.52508ZM20.7084%200.666748V4.83341H21.9584V0.666748H20.7084ZM17.1668%201.29175H21.3334V0.041748H17.1668V1.29175Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_50_70'%20x='0.0407715'%20y='0.041748'%20width='25.9177'%20height='25.9158'%20filterUnits='userSpaceOnUse'%20colorInterpolationFilters='sRGB'%3e%3cfeFlood%20floodOpacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='4'/%3e%3cfeGaussianBlur%20stdDeviation='2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_50_70'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_50_70'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",R="data:image/svg+xml,%3csvg%20width='22'%20height='27'%20viewBox='0%200%2022%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_50_61)'%3e%3cpath%20d='M8.75098%2014.1259C8.58522%2014.1259%208.42625%2014.1918%208.30904%2014.309C8.19182%2014.4262%208.12598%2014.5852%208.12598%2014.7509C8.12598%2014.9167%208.19182%2015.0757%208.30904%2015.1929C8.42625%2015.3101%208.58522%2015.3759%208.75098%2015.3759V14.1259ZM12.9176%2015.3759C13.0834%2015.3759%2013.2424%2015.3101%2013.3596%2015.1929C13.4768%2015.0757%2013.5426%2014.9167%2013.5426%2014.7509C13.5426%2014.5852%2013.4768%2014.4262%2013.3596%2014.309C13.2424%2014.1918%2013.0834%2014.1259%2012.9176%2014.1259V15.3759ZM10.2093%2017.6676C10.2093%2017.8334%2010.2752%2017.9923%2010.3924%2018.1095C10.5096%2018.2268%2010.6685%2018.2926%2010.8343%2018.2926C11.0001%2018.2926%2011.159%2018.2268%2011.2763%2018.1095C11.3935%2017.9923%2011.4593%2017.8334%2011.4593%2017.6676H10.2093ZM10.2093%2012.6676V14.7509H11.4593V12.6676H10.2093ZM10.8343%2014.1259H8.75098V15.3759H10.8343V14.1259ZM12.9176%2014.1259H10.8343V15.3759H12.9176V14.1259ZM10.2093%2014.7509V17.6676H11.4593V14.7509H10.2093Z'%20fill='black'/%3e%3cpath%20d='M7.91764%201.78098C9.14331%201.07365%2010.5843%200.835987%2011.9722%201.11226C13.3601%201.38854%2014.6002%202.15991%2015.4616%203.28268C16.3229%204.40545%2016.7468%205.80306%2016.6542%207.21514C16.5616%208.62723%2015.9588%209.9575%2014.9581%2010.9581C13.9575%2011.9588%2012.6272%2012.5616%2011.2151%2012.6542C9.80306%2012.7468%208.40545%2012.3229%207.28268%2011.4616C6.15991%2010.6002%205.38854%209.36008%205.11226%207.97219C4.83599%206.5843%205.07365%205.14331%205.78098%203.91764'%20stroke='black'%20strokeWidth='1.25'%20strokeLinecap='round'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_50_61'%20x='0.375'%20y='0.375'%20width='20.9167'%20height='25.9176'%20filterUnits='userSpaceOnUse'%20colorInterpolationFilters='sRGB'%3e%3cfeFlood%20floodOpacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='4'/%3e%3cfeGaussianBlur%20stdDeviation='2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.25%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_50_61'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_50_61'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function $(){return e.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{filter:"url(#filter0_d_50_70)",children:[e.jsx("path",{d:"M8.00007 4.89178C9.40082 4.08336 11.0477 3.8117 12.6339 4.12742C14.22 4.44313 15.6374 5.32469 16.6218 6.60785C17.6062 7.89102 18.0907 9.48829 17.9848 11.1021C17.879 12.7159 17.1901 14.2363 16.0465 15.3799C14.9029 16.5235 13.3826 17.2124 11.7687 17.3182C10.1549 17.424 8.55764 16.9396 7.27448 15.9552C5.99131 14.9707 5.10976 13.5534 4.79404 11.9672C4.47833 10.3811 4.74999 8.73419 5.5584 7.33344",stroke:"black",strokeWidth:"1.25",strokeLinecap:"round"}),e.jsx("path",{d:"M21.3334 0.666748H21.9584C21.9584 0.500988 21.8926 0.342017 21.7754 0.224806C21.6582 0.107596 21.4992 0.041748 21.3334 0.041748V0.666748ZM20.7084 4.83341C20.7084 4.99918 20.7743 5.15815 20.8915 5.27536C21.0087 5.39257 21.1677 5.45841 21.3334 5.45841C21.4992 5.45841 21.6582 5.39257 21.7754 5.27536C21.8926 5.15815 21.9584 4.99918 21.9584 4.83341H20.7084ZM17.1668 0.041748C17.001 0.041748 16.842 0.107596 16.7248 0.224806C16.6076 0.342017 16.5418 0.500988 16.5418 0.666748C16.5418 0.832508 16.6076 0.99148 16.7248 1.10869C16.842 1.2259 17.001 1.29175 17.1668 1.29175V0.041748ZM16.3584 6.52508L21.7751 1.10841L20.8918 0.225081L15.4751 5.64175L16.3584 6.52508ZM20.7084 0.666748V4.83341H21.9584V0.666748H20.7084ZM17.1668 1.29175H21.3334V0.041748H17.1668V1.29175Z",fill:"black"})]}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d_50_70",x:"0.0407715",y:"0.041748",width:"25.9177",height:"25.9158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e.jsx("feOffset",{dy:"4"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_50_70"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_50_70",result:"shape"})]})})]})}function W(){return e.jsxs("svg",{width:"22",height:"27",viewBox:"0 0 22 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{filter:"url(#filter0_d_50_61)",children:[e.jsx("path",{d:"M7.91764 1.78098C9.14331 1.07365 10.5843 0.835987 11.9722 1.11226C13.3601 1.38854 14.6002 2.15991 15.4616 3.28268C16.3229 4.40545 16.7468 5.80306 16.6542 7.21514C16.5616 8.62723 15.9588 9.9575 14.9581 10.9581C13.9575 11.9588 12.6272 12.5616 11.2151 12.6542C9.80306 12.7468 8.40545 12.3229 7.28268 11.4616C6.15991 10.6002 5.38854 9.36008 5.11226 7.97219C4.83599 6.5843 5.07365 5.14331 5.78098 3.91764",stroke:"black",strokeWidth:"1.25",strokeLinecap:"round"}),e.jsx("path",{d:"M8.75098 14.1259C8.58522 14.1259 8.42625 14.1918 8.30904 14.309C8.19182 14.4262 8.12598 14.5852 8.12598 14.7509C8.12598 14.9167 8.19182 15.0757 8.30904 15.1929C8.42625 15.3101 8.58522 15.3759 8.75098 15.3759V14.1259ZM12.9176 15.3759C13.0834 15.3759 13.2424 15.3101 13.3596 15.1929C13.4768 15.0757 13.5426 14.9167 13.5426 14.7509C13.5426 14.5852 13.4768 14.4262 13.3596 14.309C13.2424 14.1918 13.0834 14.1259 12.9176 14.1259V15.3759ZM10.2093 17.6676C10.2093 17.8334 10.2752 17.9923 10.3924 18.1095C10.5096 18.2268 10.6685 18.2926 10.8343 18.2926C11.0001 18.2926 11.159 18.2268 11.2763 18.1095C11.3935 17.9923 11.4593 17.8334 11.4593 17.6676H10.2093ZM10.2093 12.6676V14.7509H11.4593V12.6676H10.2093ZM10.8343 14.1259H8.75098V15.3759H10.8343V14.1259ZM12.9176 14.1259H10.8343V15.3759H12.9176V14.1259ZM10.2093 14.7509V17.6676H11.4593V14.7509H10.2093Z",fill:"black"})]}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d_50_61",x:"0.375",y:"0.375",width:"20.9167",height:"25.9176",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e.jsx("feOffset",{dy:"4"}),e.jsx("feGaussianBlur",{stdDeviation:"2"}),e.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_50_61"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_50_61",result:"shape"})]})})]})}const P=[{id:"g1",icon:U,type:"남성",value:1,group:"gender",Component:e.jsx($,{})},{id:"g2",type:"여성",icon:R,value:2,group:"gender",Component:e.jsx(W,{})},{id:"g3",type:"기타",value:0,group:"gender"}],J="_overlay_1ns9t_1",q="_survey_1ns9t_11",z="_survey__form_1ns9t_45",K="_date_1ns9t_67",Q="_form__label_1ns9t_74",X="_form__cancel_1ns9t_98",Y="_form__submit_1ns9t_99",e0="_disabled_1ns9t_100",s0="_selected_1ns9t_146",n={overlay:J,survey:q,survey__form:z,date:K,form__label:Q,"form__button-container":"_form__button-container_1ns9t_91",form__cancel:X,form__submit:Y,disabled:e0,selected:s0};function t0(l){const{onClose:d}=l,[a,p]=o.useState("g1"),[i,f]=o.useState("");function m(r){const _=r.target;f(_.value)}function g(r){p(r)}const x=!i||!a;function j(r){r.preventDefault();const _=new FormData;console.log(_)}return L.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{className:n.overlay}),e.jsxs("section",{className:n.survey,children:[e.jsx("header",{children:e.jsxs("p",{children:["생년월일과 성별을 입력해주시면, ",e.jsx("br",{}),e.jsx("strong",{children:"추천"}),"에 큰 도움이돼요!"]})}),e.jsxs("form",{className:n.survey__form,onSubmit:j,children:[e.jsxs("section",{children:[e.jsx("label",{htmlFor:"born",className:n.form__label,children:"생년월일"}),e.jsx("input",{type:"date",id:"born",value:i,onChange:m,className:i?n.selected:n.date})]}),e.jsxs("section",{children:[e.jsx("label",{htmlFor:"gender",className:n.form__label,children:"성별을 선택해주세요."}),e.jsx("ul",{children:P.map(r=>{const _=r.Component;return e.jsx(C,{title:r.type,onChange:()=>g(r.id),checked:a===r.id,...r,children:_},r.id)})})]}),e.jsxs("div",{className:n["form__button-container"],children:[e.jsx(v,{type:"button",className:n.form__cancel,onClick:d,children:"다음에 할래요!"}),e.jsxs(v,{className:x?n.disabled:n.form__submit,disabled:x,children:[e.jsx("img",{src:T,alt:"제출"}),e.jsx("span",{children:"제출"})]})]})]})]})]}),document.getElementById("modal-root"))}const r0="_card_c6r4p_1",o0={card:r0},a0=o.memo(function(d){const{children:a}=d;return e.jsx("li",{className:o0.card,children:a})}),n0=a0;function i0(){const[l,d]=o.useState(")전체0"),[a,p]=o.useState("-전체0"),[i,f]=o.useState("+전체0"),[m,g]=o.useState([]),[x,j]=o.useState([]),[r,_]=o.useState([]),[k,H]=o.useState(""),[b,V]=o.useState([]),[N,w]=o.useState(!1);function Z(){w(!1)}const u=S(s=>s.accessToken)||localStorage.getItem("accessToken"),y=S(s=>s.user);o.useEffect(()=>{if(!u)throw new Error("토큰이 없습니다")},[u]),o.useEffect(()=>{(async function(){try{const h=await(await fetch(M+"/foods/meta")).json();g(h.metaData.scenarios),j(h.metaData.times),_(h.metaData.types)}catch(t){if(t instanceof Error)throw new Error(t.message)}})()},[]),o.useEffect(()=>{if(!u)throw new Error("토큰이 없습니다");if(y.sex&&y.birth)return w(!1);w(!0)},[u]);async function F(s){if(s.preventDefault(),!u)throw new Error("토큰이 없습니다");try{const t=await fetch(M+"/foods/recommend",{method:"POST",headers:{"Content-Type":"application/json",tkn:u},body:JSON.stringify({previousAnswer:k,scenario:l,time:a,type:i})});if(console.log(k),t.ok){const h=await t.json();V(h.foodNames),H(()=>h.foodNames.join(", "))}}catch(t){t instanceof Error&&console.error(t.message)}}return e.jsxs("section",{className:c.background,children:[N&&e.jsx(t0,{onClose:Z}),e.jsx("main",{className:c["answer-list"],children:b&&b.map((s,t)=>e.jsx(n0,{children:s},"_"+t))}),e.jsx("section",{className:c["chat__form-container"],children:e.jsxs("form",{className:c.chat__form,onSubmit:F,children:[e.jsxs("section",{children:[e.jsx("strong",{children:"상황"}),e.jsx("div",{className:c["radio-group"],children:m&&m.map((s,t)=>e.jsx(C,{id:")"+s+t,name:"scenario",title:s,checked:s===l,onChange:()=>d(s)},")"+s+t))})]}),e.jsxs("section",{children:[e.jsx("strong",{children:"시간"}),e.jsx("div",{className:c["radio-group"],children:x&&x.map((s,t)=>e.jsx(C,{id:"-"+s+t,name:"times",title:s,checked:s===a,onChange:()=>p(s)},"-"+s+t))})]}),e.jsxs("section",{children:[e.jsx("strong",{children:"카테고리"}),e.jsx("div",{className:c["radio-group"],children:r&&r.map((s,t)=>e.jsx(C,{id:"+"+s+t,name:"types",title:s,checked:s===i,onChange:()=>f(s)},"+"+s+t))})]}),e.jsx("div",{className:c.form__wrap,children:e.jsx(v,{className:c.form__submit,children:e.jsx("img",{src:I,alt:"추천 받기"})})})]})})]})}export{i0 as default};
