import{r as y,u as f,a as r,j as e,I as i,B as l,V as o,L as N,E as C,e as v,p as d}from"./index-DBwonJDM.js";const E="_register_1adz5_1",T="_header_1adz5_11",b="_check_1adz5_32",a={register:E,header:T,check:b,"register__email-container":"_register__email-container_1adz5_66","register__password-container":"_register__password-container_1adz5_67"};function P(){const[u,p]=y.useState(!1),h=f(),{userValue:t,getUserValue:g,isValid:_}=r(v),{userValue:c,getUserValue:m}=r(d),{userValue:x,getUserValue:j,isValid:V}=r(d);async function w(n){n.preventDefault();try{(await fetch(C+"/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:c})})).ok&&h("/")}catch(s){console.error("회원가입 실패",s)}}async function k(n){n.preventDefault();try{const s=await fetch(`END_POINT/auth/email/check?email=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});s.ok&&p(!0),console.log(s)}catch(s){console.error("중복 확인 실패",s)}}return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:a.header,children:e.jsx("h1",{children:"회원가입"})}),e.jsxs("form",{className:a.register,onSubmit:w,children:[e.jsxs("div",{children:[e.jsx(i,{id:"email",type:"email",label:"이메일",className:a.login__input,value:t,onChange:g}),e.jsx(l,{className:a.check,type:"button",onClick:k,children:"중복 체크"})]}),e.jsx(o,{condition:u,type:"success",message:"사용할 수 있는 이메일입니다."}),e.jsx(o,{condition:!_&&t!=="",type:"warning",message:"이메일이 유효하지 않습니다."}),e.jsx(i,{id:"password",type:"password",label:"패스워드",className:a.login__input,value:c,onChange:m}),e.jsx(i,{id:"password-check",type:"password",label:"패스워드",className:a.login__input,value:x,onChange:j}),e.jsx(o,{condition:!V,type:"warning",message:"암호가 유효하지 않습니다."}),e.jsx(l,{children:"회원가입"}),e.jsx("nav",{className:a.nav,children:e.jsx(N,{to:"/",span:"이미 회원이신가요?",strong:"로그인하기"})})]})]})}export{P as default};
